import{_ as a,r as t,c as e,R as s,e as c,f as l,h as i,j as r,w as n,F as u,v as d,$ as o,k as b,l as f,p,y as g,n as x,z as v,U as m,a1 as _,q as h,a2 as k,t as y}from"./index-C8SuCoiN.js";const w=a({__name:"tabbar",props:{checkedIndex:{default:0}},setup(a){const w=a,C=t(!1),I=t([]),j=t([{text:"校园",src:"../../static/tabbar/shcool.png",active:"../../static/tabbar/shcool_active.png",href:"/pages/home/index"},{text:"发现",src:"../../static/tabbar/faxian.png",active:"../../static/tabbar/faxian_active.png",href:"/pages/find/index"},{src:"../../static/tabbar/fabu.png"},{text:"消息",src:"../../static/tabbar/msg.png",active:"../../static/tabbar/msg-active.png",href:"/pages/message/index"},{text:"我的",src:"../../static/tabbar/user.png",active:"../../static/tabbar/user-active.png",href:"/pages/my/index"}]);e((()=>{F()}));const F=async()=>{try{const{data:{data:a}}=await s();I.value=a.filter((a=>a.enable))}catch(a){console.log("错误",a)}};return(t,e)=>{const s=y,F=d,$=c(l("up-popup"),o);return b(),i(u,null,[r(F,{class:"tabbar"},{default:n((()=>[r(F,{class:"bar-wrap"},{default:n((()=>[(b(!0),i(u,null,f(j.value,((t,e)=>(b(),g(F,{key:t.src,class:"item",onClick:a=>(a=>{2===a?C.value=!0:k({url:j.value[a].href})})(e)},{default:n((()=>[r(F,{class:x(t.src.includes("fabu")?"item-img fabu":"item-img")},{default:n((()=>[r(s,{src:e==w.checkedIndex?t.active:t.src,mode:"widthFix"},null,8,["src"])])),_:2},1032,["class"]),t.src.includes("fabu")?m("",!0):(b(),g(F,{key:0,class:x(a.checkedIndex==e?"item-text-active text":"text")},{default:n((()=>[p(v(t.text),1)])),_:2},1032,["class"]))])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),r($,{show:C.value,mode:"bottom",onClose:e[0]||(e[0]=a=>C.value=!1)},{default:n((()=>[r(F,{class:"box"},{default:n((()=>[r(F,{class:"title"},{default:n((()=>[p("请选择发布分类")])),_:1}),r(F,{class:"tag-list"},{default:n((()=>[(b(!0),i(u,null,f(I.value,(a=>(b(),g(F,{key:a.id,onClick:t=>{return e=a.id,void h({url:`/pages/release/index?mode=${e}`});var e}},{default:n((()=>[_("uni-icon",{name:"bookmark"}),p(" "+v(a.tag),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1},8,["show"])],64)}}},[["__scopeId","data-v-c5b4605a"]]);export{w as default};
