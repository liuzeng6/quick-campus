import{_ as a,u as s,r as t,c as e,i as l,e as c,f as i,y as n,w as u,S as d,k as o,j as r,h as f,l as _,m,F as p,p as y,v,z as x,K as g,q as k,L as w,A as b,t as h}from"./index-C8SuCoiN.js";import{_ as j}from"./uni-icons.CrP5nmgM.js";import{t as z}from"./time.Bo7V4Rh2.js";const C=a({__name:"index",setup(a){let C=s().config.tags,A=t([]);e((async()=>{await $()}));const $=async()=>{let{data:{data:a}}=await l("/community/my/topics");A.value=a};return(a,s)=>{const t=h,e=v,q=c(i("uni-icons"),j),D=d;return o(),n(D,{"scroll-y":!0,id:"page"},{default:u((()=>[r(e,{class:"items"},{default:u((()=>[(o(!0),f(p,null,_(m(A),((a,s)=>(o(),n(e,{class:"item",onClick:s=>{return t=a.id,void k({url:`/pages/details/index?id=${t}`});var t}},{default:u((()=>[r(e,{class:"above"},{default:u((()=>[r(e,{class:"avatar"},{default:u((()=>[r(t,{src:a.user.avatar},null,8,["src"])])),_:2},1024),r(e,{class:"content"},{default:u((()=>[r(e,{class:"nickname"},{default:u((()=>[y(x(a.user.nickname),1)])),_:2},1024),r(e,{class:"flex"},{default:u((()=>[r(e,{class:"time"},{default:u((()=>[y(x(m(z)(1e3*a.createtime)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),r(e,{class:"cancel",onClick:g((s=>(async a=>{if((await w({title:"提示",content:"是否要删除改帖子"})).confirm){let{data:{data:s}}=await l.delete(`/community/my/publish/topics/${a}`);b({title:s,duration:2e3}),await $()}})(a.id)),["stop"])},{default:u((()=>[r(q,{type:"trash",size:"26rpx",color:"#D8A47A"}),y("删除 ")])),_:2},1032,["onClick"])])),_:2},1024),r(e,{class:"box"},{default:u((()=>[r(e,{class:"center"},{default:u((()=>[r(e,{class:"title"},{default:u((()=>[y(x(a.title),1)])),_:2},1024),r(e,{class:"content"},{default:u((()=>[y(x(a.content),1)])),_:2},1024)])),_:2},1024),r(e,{class:"below"},{default:u((()=>[r(e,{class:"sign"},{default:u((()=>{var s;return[y("# "+x(null==(s=m(C).find((s=>s.id==a.tag_id)))?void 0:s.tag),1)]})),_:2},1024),r(e,{class:"space"}),r(e,{class:"group"},{default:u((()=>[r(e,null,{default:u((()=>[r(q,{type:"chat",color:"#878787",size:"34rpx"}),y(" "+x(a.comment_number),1)])),_:2},1024),r(e,{style:{"margin-left":"44rpx"}},{default:u((()=>[r(q,{type:"hand-up",size:"34rpx",color:"#878787"}),y(" "+x(a.like_number),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),256))])),_:1}),r(e,{class:"end"},{default:u((()=>[y("我已经到底了(￣▽￣)")])),_:1})])),_:1})}}},[["__scopeId","data-v-e01c3e9f"]]);export{C as default};
